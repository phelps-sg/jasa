<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_06) on Mon Nov 15 16:58:19 CST 2004 -->
<TITLE>
DegNetGenerator (RepastJ API Documentation)
</TITLE>

<META NAME="keywords" CONTENT="uchicago.src.sim.network.DegNetGenerator class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="DegNetGenerator (RepastJ API Documentation)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/DegNetGenerator.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../uchicago/src/sim/network/DefaultNode.OrderedHashMap.html" title="class in uchicago.src.sim.network"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../uchicago/src/sim/network/DlFormatter.html" title="class in uchicago.src.sim.network"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DegNetGenerator.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
uchicago.src.sim.network</FONT>
<BR>
Class DegNetGenerator</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by"><B>uchicago.src.sim.network.DegNetGenerator</B>
</PRE>
<HR>
<DL>
<DT>public class <B>DegNetGenerator</B><DT>extends java.lang.Object</DL>

<P>
Generates an adjacency matrix given a mean degree, a variance, and
 a list of probilities. In general matrix generation works as follows:<p>

 1. Every row in matrix is randomly assigned a degree (the vector sum of
 the row). Each row's degree is a random number drawn from a normal
 distribution. The mean of this distribution is the average nodal
 degree specified by the user and the standard deviation of the the
 distribution is also specified by the user. If the assigned degree
 is less than 0 it is set to one. If it is greater than the maximum
 degree (the size of the row - 1) then it is set to the maximun.<p>

 2. An empty matrix is seeded with some X (user specifiable) number of rows.
 The seeding process randomly chooses X number of rows from the list of
 available rows. The available rows are those rows that haven't been through
 the random assignment process (see 3).<p>

 3. These seed rows are randomly assign a 1 to some number of cells
 in that row. The amount of cells to set to one is determined according to
 the degree of that row determined in step 1. For as many cells need to be
 set to one, the actual individual cell to set is randomly determined
 through a uniform distribution. No cell is set twice and the diagonal is
 excluded. The individualy chosen cell is then set to one.<p>

 4. New rows are then created on the basis of the cell values created in
 step 3. These values are created according to some user specified probability.
 If the matrix is to be symmetric (not a digraph) then the probability is 1.0.
 The general idea here is to determine whether the links randomly created
 in step 3. go both ways. So for example, if after step 3 the matrix
 looks like:
 <pre><code>
   A B C
 A 0 0 0
 B 1 0 1
 C 0 0 0
 </code></pre>
 a link will be created from A to B, and from C to B with some
 specified probability. The new rows corresponding to the nodes that
 are the source of these new links are then used in step 6. For example,
 if a link is created from A to B, row A will then be used in step 6.<p>

 Note that links are only created in a row if the current row sum for
 that row is less than the intended degree for that row as determined in
 step 1. However, if the matrix is to be made symmetric, it is made so
 and the row sums are ignored.<p>

 5. New links are then created using the powers of the matrix that
 results from step 4. These links are created according to user
 specified probablilities corresponding to the path length (powers).
 The exact formula is as follows:
 <code><pre>
 if
 (i_intended_vec_sum / avgDensity) * (((matrix_size / avgDensity) *
 (1 - Sum(probs[n]))) + (probs[0] * matrix^2_ij) +
 (probs[1] * powArray^3_ij) + ... + (probs[n] * powArray^n_ij))
 >= uniform_float_from_1_to_0
 then
 there is a link


 where:
      i_intended_vec_sum = the intended row sum as determined in step 1.
      avgDensity = the user specified mean degree
      probs[] = an array of probilities that specify the likelyhood of
      one node having a link to another. This array is indexed to the
      various matrix powers such that the first probility refers to the
      likelyhood of one node having a link to another if that node is
      a walk of length 2 away, and so on for the other powers.
 </pre></code>
 As in step 4., no links are created if the current row sum for a row is
 greater than intended row sum. This holds both for symmetric and
 directed matrices. If the matrix is to be symmetric then
 this condition must hold for both nodes.

 6. The list of rows created in step 4. undergo the random assignment
 process described in step 3. If the sum of the row is greater than the
 number of random links to be created then no assignment will occur.<p>

 7. Step 4. is then repeated using the list of rows from step 6. in place of
 the seeded rows. Only those cells actually assigned in step 6. will be
 used in step 3. If step 6. fails to generate any new cells (that is,
 column vals whose corresponding row can be used in step 3), then new
 seeded rows are generated as in step 2.<p>

 8. Steps 3.- 7 are repeated until all of the rows in the matrix have undergone
 the random link assignment described in step 3.<p>

 Each row should undergo random link assignment once and only once. Rows that
 undergo random link assignment in the same iteration and refer to each
 other will not get those links created. So for example, if rows C and
 A have just been randomly assigned links, such that:
 <pre><code>
   A B C
 A 0 1 1
 B 0 0 0
 C 0 1 0
 </code></pre>
 A link from C -> A will not be created. This assumes of course that
 the matrix is not symmetrical.<p>

 The getMatrix method takes three arguments: the number of rows to seed,
 an array of probabilities, and whether this is a directed graph or not.
 The number of rows to seed determines the initial number of rows to seed
 and the number of rows to seed when there are no new rows to work with
 from a previous seed (as described in step 7). The first member of the
 probabilities array is a float between 0 and 1.0 that determine the
 probabilities mentioned in step 3 (i.e. the probability that if A -> B
 then B -> A). The remaining probabilities refer to the power probilities -
 the second member of the array is the probiblities the some node
 will know another node 2 links away, and so on for the remaining members of
 the array (i.e. the third member is for three links away). The last
 argument determines wether the matrix is directed or not. If not then it
 is symmetric and the first member of the probilities array is ignored as
 if A -> B then B -> A.<p>

 <b>Note</b>: This class is still in beta and should only be used
 in order to test it.
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>$Revision$ $Date$</DD>
<DT><B>Author:</B></DT>
  <DD>Nick Collier</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->


<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../uchicago/src/sim/network/DegNetGenerator.html#DegNetGenerator(int, float, int)">DegNetGenerator</A></B>(int&nbsp;degree,
                float&nbsp;variance,
                int&nbsp;size)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../uchicago/src/sim/network/AdjacencyMatrix.html" title="interface in uchicago.src.sim.network">AdjacencyMatrix</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../uchicago/src/sim/network/DegNetGenerator.html#getMatrix(int, float[], boolean)">getMatrix</A></B>(int&nbsp;numRowsToSeed,
          float[]&nbsp;edgeProbability,
          boolean&nbsp;isDigraph)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a random matrix generated using the specified parameters.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="DegNetGenerator(int, float, int)"><!-- --></A><H3>
DegNetGenerator</H3>
<PRE>
public <B>DegNetGenerator</B>(int&nbsp;degree,
                       float&nbsp;variance,
                       int&nbsp;size)</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="getMatrix(int, float[], boolean)"><!-- --></A><H3>
getMatrix</H3>
<PRE>
public <A HREF="../../../../uchicago/src/sim/network/AdjacencyMatrix.html" title="interface in uchicago.src.sim.network">AdjacencyMatrix</A> <B>getMatrix</B>(int&nbsp;numRowsToSeed,
                                 float[]&nbsp;edgeProbability,
                                 boolean&nbsp;isDigraph)</PRE>
<DL>
<DD>Returns a random matrix generated using the specified parameters.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>numRowsToSeed</CODE> - the number of rows to seed<DD><CODE>edgeProbability</CODE> - the probability ...</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/DegNetGenerator.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../uchicago/src/sim/network/DefaultNode.OrderedHashMap.html" title="class in uchicago.src.sim.network"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../uchicago/src/sim/network/DlFormatter.html" title="class in uchicago.src.sim.network"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DegNetGenerator.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
